<div class="toolbar">
  <!-- Interaction Tools Section -->
  <div class="toolbar-section">
    <div class="tool-group">
      @for (tool of tools; track tool.id) {
      <button
        [class]="getToolButtonClass(tool)"
        (click)="onToolSelect(tool.id)"
        type="button"
        [title]="tool.description"
      >
        <span [class]="getToolIconClass(tool)"></span>
      </button>
      }
    </div>
  </div>

  <!-- Shapes Section -->
  <div class="toolbar-section">
    <!-- Shapes Grid -->
    @for (shape of allShapes; track getShapeType(shape)) {
    <button
      class="shape-item"
      [class.hovered]="isShapeHovered(getShapeType(shape))"
      [attr.data-shape-type]="getShapeType(shape)"
      (mouseenter)="onShapeHover(getShapeType(shape))"
      (mouseleave)="onShapeHoverEnd()"
      (click)="onShapeClick(shape)"
      [title]="shape.description"
      type="button"
    >
      <span class="shape-icon" [ngClass]="getShapeIconClass(shape)"></span>
    </button>
    }

    <!-- Zoom Controls -->
    <div class="tool-group">
      <div class="zoom-controls">
        <button
          class="btn btn-icon zoom-btn"
          (click)="onZoomOut()"
          data-testid="btn-zoom-out"
          [attr.aria-label]="'Zoom out at cursor position'"
          title="Zoom out at cursor position"
        >
          <svg
            width="14"
            height="14"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="8" y1="11" x2="14" y2="11"></line>
          </svg>
        </button>
        <span class="zoom-display">{{ currentZoom * 100 | number : '1.0-0' }}%</span>
        <button
          class="btn btn-icon zoom-btn"
          (click)="onZoomIn()"
          data-testid="btn-zoom-in"
          [attr.aria-label]="'Zoom in at cursor position'"
          title="Zoom in at cursor position"
        >
          <svg
            width="14"
            height="14"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="11" y1="8" x2="11" y2="14"></line>
            <line x1="8" y1="11" x2="14" y2="11"></line>
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>
