<div class="diagram-canvas-container">
  <div class="left-toolbar" role="toolbar" aria-label="Diagram toolbar" data-testid="left-toolbar">
    <button
      class="btn btn-primary"
      (click)="onAddElement()"
      data-testid="btn-add"
      aria-label="Add element"
    >
      Add
    </button>
    <button
      class="btn btn-warning"
      (click)="onClearDiagram()"
      data-testid="btn-clear"
      aria-label="Clear diagram"
    >
      Clear
    </button>
    <hr />
    <button
      class="btn"
      (click)="onUndo()"
      [disabled]="!canUndo"
      data-testid="btn-undo"
      aria-label="Undo"
    >
      Undo
    </button>
    <button
      class="btn"
      (click)="onRedo()"
      [disabled]="!canRedo"
      data-testid="btn-redo"
      aria-label="Redo"
    >
      Redo
    </button>
    <hr />
    <div class="zoom-controls">
      <button class="btn" (click)="onZoomIn()" data-testid="btn-zoom-in" aria-label="Zoom in">
        +
      </button>
      <button class="btn" (click)="onZoomOut()" data-testid="btn-zoom-out" aria-label="Zoom out">
        -
      </button>
      <div class="zoom-display" data-testid="zoom-level">
        {{ currentZoom * 100 | number : '1.0-0' }}%
      </div>
    </div>
    <hr />
    <div class="grid-controls">
      <button
        class="btn"
        [class.active]="isGridEnabled"
        (click)="onToggleGrid()"
        data-testid="btn-grid-toggle"
        [attr.aria-pressed]="isGridEnabled"
        aria-label="Toggle grid"
      >
        Grid
      </button>
      <input
        type="range"
        min="5"
        max="50"
        step="5"
        [value]="10"
        (input)="onSetGridSize(+$event.target.value)"
        data-testid="input-grid-size"
        aria-label="Grid size"
        class="grid-size-slider"
      />
    </div>
    <hr />
    <button
      class="btn btn-info"
      (click)="onExportData()"
      data-testid="btn-export"
      aria-label="Export diagram data"
    >
      Export
    </button>
  </div>

  <div class="diagram-wrapper">
    <div #diagramContainer class="diagram-container"></div>
  </div>
</div>
